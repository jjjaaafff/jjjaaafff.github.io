<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Identification | Aofan Jiang</title> <meta name="author" content="Aofan Jiang"> <meta name="description" content="Lecture Notes on Causal Inference"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://jjjaaafff.github.io/blog/2021/causal5/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">{
      "title": "Identification",
      "description": "Lecture Notes on Causal Inference",
      "published": "July 14, 2021",
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span>Aofan Jiang (蒋傲凡)</span></a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="post distill"> <d-title> <h1>Identification</h1> <p>Lecture Notes on Causal Inference</p> </d-title> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#random-experience">Random Experience</a></div> <div><a href="#frontdoor-adjustment">Frontdoor adjustment</a></div> <div><a href="#pearl-s-do-calculus">Pearl’s do-calculus</a></div> <div><a href="#determining-identifiability-from-the-graph">Determining identifiability from the graph</a></div> </nav> </d-contents> <h2 id="random-experience">Random Experience</h2> <p>之前已经讲过 random experience 的原理和背景，这里尝试从不同的角度去解释该方法的神奇之处。在 random experience 中，对比的两组除了treatment，其它均相同。</p> <ol> <li>Covariate balance：在这里我们定义为不同 treatment 下的变量X的分布相同，则称为具有 covariate balance，从数学公式的角度来看，即 \(P(X \vert T = 1) = P(X \vert T = 0)\)。<br> 在定义该概念之后，我们可以从 random experience 得到 covariate balance，进而从 covariate balance 得到因果关系 <ol> <li>首先根据random experience，我们可以得到 T 与 X 相互独立(这是因为 T 是通过抛硬币的方式确定的)，因此我们可以得到 covariate balance</li> <li>基于 covariate balance，我们可以推出因果关系，\(P(y\vert do(t))=\sum_x P(y\vert x,t)P(x)=\sum_x \frac{P(y\vert x,t)P(x)P(t\vert x)}{P(t\vert x)} = \sum_x P(x,y\vert t) = P(y\vert t)\)</li> </ol> </li> <li>Exchangeability：这个在之前讲过，是说我们可以交换采取不同措施的两组人，而结果不发生改变</li> <li>No backdoor paths：随机实验切断了所有指向 treatment 的原因线，no edges to T</li> </ol> <h2 id="frontdoor-adjustment">Frontdoor adjustment</h2> <p>在介绍frontdoor之前，首先回顾一下backdoor。backdoor path是说因果图中非chain的association path，即存在edge由x指向t，同时存在从x到y的路径。此时我们称存在backdoor path。backdoor关注的是非因果关系的其它关系。</p> <p>然而，在平常的观测数据中，存在未知的潜在原因，我们不能用backdoor那一套方法对潜在原因去condition，此时我们可以做的，就是关注因果关系路径上的中间节点，而这也就是 frontdoor 的来源。frontdoor是为了聚焦chain形式的因果关系。举个例子，假设一个因果关系是 T 到 M 到 Y，那么在分析 T 与 Y 的因果关系时，我们就可以利用 frontdoor 来关注中间原因 M。<br> <img src="/assets/img/ICI_lec5_1.JPG" alt="" title="frontdoor例子"></p> <p>frontdoor adjustment 总共包含三步，以上述例子为例</p> <ol> <li> <p>Identify the causal effect of T on M<br> 在 T 和 M 之间，不存在backdoor path，因为此时 Y 是未知的，作为collider，切断了未知原因 W 对 M 的影响。此时我们有 \(P(m \vert do(t)) = P(m \vert t)\)</p> </li> <li>Identify the causal effect of M on Y<br> 在 M 和 Y 之间，存在一条backdoor path，从 T 流向 W 流向 Y。因此我们需要condition on T 来阻塞这条关系路径。此时我们有 \(P(y \vert do(m)) = \sum_t P(y \vert m,t)P(t)\)</li> <li>Combine above two steps<br> \(P(y | do(t)) = \sum_m P(m | do(t)) P(y | do(m)) =\sum_m P(m | t)\sum_{t'}P(y \vert m,t')P(t')\)</li> </ol> <p>经过这三步，我们就得到了关于 (T, M, Y) 三元组的 frontdoor adjustment。这就引出了下一个问题，在复杂的图中，如何确定 M 呢？于是我们提出 frontdoor criterion。</p> <p>对于一组变量 M ，确定其满足 frontdoor criterion 需要同时满足三个条件</p> <ol> <li>M 挡住所有从 T 到 Y 的因果路径</li> <li>T 到 M 之间，所有的backdoor path 都应该是阻塞的。</li> <li>M 到 Y 之间，所有的backdoor path 都被 T 阻塞</li> </ol> <h2 id="pearls-do-calculus">Pearl’s do-calculus</h2> <p>当 frontdoor 和 backdoor criterion 都无法满足的时候，我们该如何 indentify causal effect呢？此时我们可以用do-calculus。</p> <p>do-calculus可以indentify任何indentifiable的causal quantity。换句话是，它是完备的(complete)</p> <p>在介绍do-calculus之前，需要引入一个新的记号。对于一个因果图G，我们用 \(G_{\overline Z}\) 表示将G图中所有指向节点 Z 的边都抹去后剩下的图；同理，我们用 \(G_{\underline{Z}}\) 表示将G图中所有从节点 Z 指出的边都抹去后剩下的图。</p> <p>do-calculus有三条rule</p> <ol> <li> \[P(y\vert do(t),z,w)=P(y\vert do(t),w)\qquad if\ Y\perp \!\!\! \perp _{G_{\overline{T}}} Z\vert T,W\] <p>如果去掉do(t)，我们可以发现这条规则是 d-seperation 和条件独立的泛化</p> </li> <li> \[P(y\vert do(t),do(z),w)=P(y\vert do(t),z,w)\qquad if\ Y\perp \!\!\! \perp_{G_{\overline{T},\underline{Z}}} Z\vert T,W\] <p>如果去掉do(t)，我们可以发现这条规则是 backdoor adjustment 的泛化，此时Z没有指出的边，do on z 不会对其他变量产生影响</p> </li> <li> \[P(y\vert do(t),do(z),w)=P(y\vert do(t),w)\qquad if\ Y\perp \!\!\! \perp_{G_{\overline{T},\overline{Z(W)}}} Z\vert T,W\] <p>这里Z(W)表示所有Z中所有不是W父节点的节点集合<br> 如果去掉do(t)，我们可以发现在 \(G_{\overline{Z(W)}}\) 中，只有 z-&gt;y 可能有因果关系，w被抹除了，其效果和 \(G_{\overline{Z}}\)相同。但 \(G_{\overline{Z}}\)更严格，会有更多的边被抹去，可能会丢失一些association</p> </li> </ol> <h2 id="determining-identifiability-from-the-graph">Determining identifiability from the graph</h2> <ul> <li> <p>判断identifiability的充分条件(当原因是单变量时)：Unconfounded children criterion<br> 是看我们能否block从 T 到其子节点之间(同时也是Y的祖先节点)的所有backdoor path，该标准比frontdoor criterion更加宽泛</p> </li> <li> <p>判断identifiability的必要条件：即如果已知identifiability，我们可以block每一条从 T 到其子节点之间(同时也是Y的祖先节点)的backdoor path</p> </li> <li> <p>充要条件：在因果图中，是hedge criterion (这里需要引入更多的新概念，课程视频中未涉及)</p> </li> </ul> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2023 Aofan Jiang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Last updated: November 14, 2023. </div> <div id="map-container" style="display: none;"> <script type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?cl=ffffff&amp;w=300&amp;t=n&amp;d=vcetvMKxQeU0A74GGVddvtKdDYpzY562Hjs3OBdOjBw"></script> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> </body> </html>